<!-- build time:Sat Sep 19 2020 20:50:19 GMT+0800 (GMT+08:00) --><!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="format-detection" content="telephone=no"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black"><link rel="icon" href="/images/icons/favicon.ico?v=2.0.1" type="image/png" sizes="16x16"><link rel="icon" href="/images/icons/favicon.ico?v=2.0.1" type="image/png" sizes="32x32"><meta name="description" content="1、连接Mysql格式：mysql -h主机地址 -u用户名 -p用户密码本地mysql -utaoyali -ptaoyali远程mysql -h192.168.110.110 -utaoyali -ptaoyali注意用户名前可以有空格也可以没有空格，但是密码前必须没有空格，否则让你重新输入密码。"><meta property="og:type" content="article"><meta property="og:title" content="MySQL的基本命令"><meta property="og:url" content="https://bfch.github.io/2020-06-22/11/index.html"><meta property="og:site_name" content="Anew忘"><meta property="og:description" content="1、连接Mysql格式：mysql -h主机地址 -u用户名 -p用户密码本地mysql -utaoyali -ptaoyali远程mysql -h192.168.110.110 -utaoyali -ptaoyali注意用户名前可以有空格也可以没有空格，但是密码前必须没有空格，否则让你重新输入密码。"><meta property="og:locale" content="zh_CN"><meta property="article:published_time" content="2020-06-22T08:12:05.265Z"><meta property="article:modified_time" content="2020-06-03T11:50:38.322Z"><meta property="article:author" content="Anew忘"><meta name="twitter:card" content="summary"><meta name="keywords" content="Anew忘, Anew忘"><meta name="description" content=""><title>MySQL的基本命令 | Anew忘</title><link ref="canonical" href="https://bfch.github.io/2020-06-22/11/"><link rel="alternate" href="/atom.xml" type="application/atom+xml"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.12.1/css/all.min.css" type="text/css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css" type="text/css"><link rel="stylesheet" href="/css/index.css?v=2.0.1"><script>var Stun=window.Stun||{},CONFIG={root:"/",algolia:void 0,fontIcon:{prompt:{success:"fas fa-check-circle",info:"fas fa-arrow-circle-right",warning:"fas fa-exclamation-circle",error:"fas fa-times-circle"},copyBtn:"fas fa-copy"},sidebar:{offsetTop:"20px",tocMaxDepth:6},header:{enable:!0,showOnPost:!0,scrollDownIcon:!1},postWidget:{endText:!0},nightMode:{enable:!0},back2top:{enable:!0},codeblock:{style:"default",highlight:"light",wordWrap:!1},reward:!1,fancybox:!0,zoomImage:{gapAside:"20px"},galleryWaterfall:void 0,lazyload:!1,pjax:{avoidBanner:!1},externalLink:{icon:{enable:!0,name:"fas fa-external-link-alt"}},shortcuts:void 0,prompt:{copyButton:"复制",copySuccess:"复制成功",copyError:"复制失败"},sourcePath:{js:"js",css:"css",images:"images"}};window.CONFIG=CONFIG</script><meta name="generator" content="Hexo 4.2.1"></head><body><div class="container" id="container"><header class="header" id="header"><div class="header-inner"><nav class="header-nav header-nav--fixed"><div class="header-nav-inner"><div class="header-nav-menubtn"><i class="fas fa-bars"></i></div><div class="header-nav-menu"><div class="header-nav-menu-item"><a class="header-nav-menu-item__link" href="/"><span class="header-nav-menu-item__icon"><i class="fas fa-home"></i></span><span class="header-nav-menu-item__text">首页</span></a></div><div class="header-nav-menu-item"><a class="header-nav-menu-item__link" href="javascript:;" onclick="return!1"><span class="header-nav-menu-item__icon"><i class="fas fa-feather-alt"></i></span><span class="header-nav-menu-item__text">文章</span></a><div class="header-nav-submenu"><div class="header-nav-submenu-item"><a class="header-nav-submenu-item__link" href="/archives/"><span class="header-nav-submenu-item__icon"><i class="fas fa-folder-open"></i></span><span class="header-nav-submenu-item__text">归档</span></a></div><div class="header-nav-submenu-item"><a class="header-nav-submenu-item__link" href="/categories/"><span class="header-nav-submenu-item__icon"><i class="fas fa-layer-group"></i></span><span class="header-nav-submenu-item__text">分类</span></a></div><div class="header-nav-submenu-item"><a class="header-nav-submenu-item__link" href="/tags/"><span class="header-nav-submenu-item__icon"><i class="fas fa-tags"></i></span><span class="header-nav-submenu-item__text">标签</span></a></div></div></div><div class="header-nav-menu-item"><a class="header-nav-menu-item__link" href="/about/"><span class="header-nav-menu-item__icon"><i class="fa fa-user"></i></span><span class="header-nav-menu-item__text">关于</span></a></div><div class="header-nav-menu-item"><a class="header-nav-menu-item__link" href="javascript:;" onclick="return!1"><span class="header-nav-menu-item__icon"><i class="fas fa-angle-double-down"></i></span><span class="header-nav-menu-item__text">其他</span></a><div class="header-nav-submenu"><div class="header-nav-submenu-item"><a class="header-nav-submenu-item__link" href="/gallery/"><span class="header-nav-submenu-item__icon"><i class="fas fa-images"></i></span><span class="header-nav-submenu-item__text">相册</span></a></div><div class="header-nav-submenu-item"><a class="header-nav-submenu-item__link" href="/friends/"><span class="header-nav-submenu-item__icon"><i class="fas fa-hand-spock"></i></span><span class="header-nav-submenu-item__text">友链</span></a></div></div></div></div><div class="header-nav-search"><span class="header-nav-search__icon"><i class="fas fa-search"></i></span><span class="header-nav-search__text">搜索</span></div><div class="header-nav-mode"><div class="mode"><div class="mode-track"><span class="mode-track-moon"></span><span class="mode-track-sun"></span></div><div class="mode-thumb"></div></div></div></div></nav><div class="header-banner"><div class="header-banner-info"><div class="header-banner-info__title">Anew忘</div><div class="header-banner-info__subtitle"></div></div></div></div></header><main class="main" id="main"><div class="main-inner"><div class="content-wrap" id="content-wrap"><div class="content" id="content"><div id="is-post"></div><div class="post"><header class="post-header"><h1 class="post-title">MySQL的基本命令</h1><div class="post-meta"><span class="post-meta-item post-meta-item--createtime"><span class="post-meta-item__icon"><i class="far fa-calendar-plus"></i></span><span class="post-meta-item__info">发表于</span><span class="post-meta-item__value">2020-06-22</span></span><span class="post-meta-item post-meta-item--updatetime"><span class="post-meta-item__icon"><i class="far fa-calendar-check"></i></span><span class="post-meta-item__info">更新于</span><span class="post-meta-item__value">2020-06-03</span></span><span class="post-meta-item post-meta-item--visitors"><span class="post-meta-item__icon"><i class="fas fa-eye"></i></span><span class="post-meta-item__info">阅读次数</span><span class="post-meta-item__value" id="busuanzi_value_page_pv"></span></span></div></header><div class="post-body"><p>1、连接Mysql<br>格式：<br>mysql -h主机地址 -u用户名 -p用户密码</p><p>本地<br>mysql -utaoyali -ptaoyali</p><p>远程<br>mysql -h192.168.110.110 -utaoyali -ptaoyali</p><p>注意用户名前可以有空格也可以没有空格，但是密码前必须没有空格，否则让你重新输入密码。</p><a id="more"></a><p>2、修改密码<br>格式：<br>mysqladmin -u用户名 -p旧密码 password 新密码</p><p>给root加个密码ab12<br>mysqladmin -u root -password ab12<br>注：因为开始时root没有密码，所以-p旧密码一项就可以省略了。 如果进入了mysql后想修改密码，就直接用mysql语句就好了：<br>set PASSWORD=PASSWORD(“123”);注意mysql语句以分号结束</p><p>再将root的密码改为djg345<br>mysqladmin -u root -p ab12 password djg345</p><p>3、增加新用户<br>注意：和上面不同，下面的因为是MYSQL环境中的命令，所以后面都带一个分号作为命令结束符</p><p>格式：<br>grant select on 数据库.* to 用户名@登录主机 identified by “密码”</p><p>增加一个用户test1密码为abc，让他可以在任何主机上登录，并对所有数据库有查询、插入、修改、删除的权限。首先用root用户连入MYSQL，然后键入以下命令：<br>grant select,insert,update,delete on . to [email=test1@”%]test1@”%[/email]” Identified by “abc”;</p><p>但增加的用户是十分危险的，你想如某个人知道test1的密码，那么他就可以在internet上的任何一台电脑上登录你的mysql数据库并对你的数据可以为所欲为了，解决办法见?。</p><p>增加一个用户test2密码为abc,让他只可以在localhost上登录，并可以对数据库mydb进行查询、插入、修改、删除的操作(localhost指本地主机，即MYSQL数据库所在的那台主机),这样用户即使用知道test2的密码，他也无法从internet上直接访问数据库，只能通过MYSQL主机上的web页来访问了。<br>grant select,insert,update,delete on mydb.* to [email=test2@localhost]test2@localhost[/email] identified by “”;</p><p>4、数据库操作<br>创建数据库<br>create database database_name;</p><p>修改指定数据库中所有varchar类型的表字段的字符集为UTF8，并将排序规则修改为utf8_general_ci</p><p>SELECT CONCAT(‘ALTER TABLE ‘, table_name, ‘ MODIFY ‘, column_name, ‘ ‘, DATA_TYPE, ‘(‘, CHARACTER_MAXIMUM_LENGTH, ‘) CHARACTER SET UTF8 COLLATE utf8_general_ci’, (CASE WHEN IS_NULLABLE = ‘NO’ THEN ‘ NOT NULL’ ELSE ‘’ END), ‘;’)<br>FROM information_schema.COLUMNS<br>WHERE TABLE_SCHEMA = ‘databaseName’<br>AND DATA_TYPE = ‘varchar’<br>AND<br>(<br>CHARACTER_SET_NAME != ‘utf8’<br>OR<br>COLLATION_NAME != ‘utf8_general_ci’<br>);</p><p>修改指定数据库中所有数据表的字符集为UTF8，并将排序规则修改为utf8_general_ci</p><p>SELECT CONCAT(‘ALTER TABLE ‘, table_name, ‘ CONVERT TO CHARACTER SET utf8 COLLATE utf8_unicode_ci;’)<br>FROM information_schema.TABLES<br>WHERE TABLE_SCHEMA = ‘databaseName’</p><p>5、数据表数据操作<br>显示所有的数据库<br>show databases;</p><p>进入dataBase_name数据库<br>use dataBase_name;</p><p>显示dataBase_name数据库的所有表<br>show tables;</p><p>显示table_name表的字段信息<br>desc table_name;</p><p>创建表<br>create table MIFit_Image (name char(100), path char(100), count int(10), firstName char(100), firstMD5 char(100), secondName char(100), secondMD5 char(100), thirdName char(100), thirdMD5 char(100));</p><p>修改表名<br>rename table MIFit_Image to MIFit_Image_New</p><p>删除表<br>drop table tableName;</p><p>插入数据<br>insert into MIFit_Image (name, path, count, firstName, firstMD5, secondName, secondMD5, thirdName, thirdMD5) VALUES (‘test’, ‘test’, 1, ‘name1’, ‘md1’, ‘name2’, ‘md2’, ‘name3’, ‘md3’);</p><p>查询表中的数据<br>select * from MIFit_Image;</p><p>select * from MIFit_Image where name = ‘test’;</p><p>select * from MyClass order by id limit 0,2;</p><p>查询数据库中的重复数据 （ | b71edca50989258e68fadcc3cb9bc689 | 2 | ）<br>select firstMD5, count(*) as count from MIFit_Image group by firstMD5 having count &gt; 1;</p><p>查询重复数据的其它字段的数据<br>select folderName, path, firstMD5 from MIFit_Image where firstMD5 in (select firstMD5 from MIFit_Image group by firstMD5 having count(firstMD5) &gt; 1);</p><p>更新数据<br>update MIFit_Image set folderName =’Mary’ where id=1;</p><p>删除数据<br>delete from MIFit_Image where folderName = ‘test’;</p><p>6、数据表字段操作<br>添加字段 （int 自增 不为null 主键）<br>alter table MIFit_Image add id int auto_increment not null primary key;</p><p>修改字段的顺序 (id 放置最前)<br>ALTER TABLE 表名 MODIFY 字段名1 数据类型 FIRST ｜ AFTER 字段名2;<br>其中：</p><p>字段名1：表示需要修改位置的字段的名称。<br>数据类型：表示“字段名1”的数据类型。<br>FIRST：指定位置为表的第一个位置。<br>AFTER 字段名2：指定“字段名1”插入在“字段名2”之后。</p><p>alter table MIFit_Image modify id int first;</p><p>alter table MIFit_Image modify id int after name;</p><p>移除id主键标志<br>alter table MIFit_Image modify id int, drop primary key;</p><p>修改字段名name为folderName<br>alter table MIFit_Image change name folderName char(100);</p><p>删除字段<br>alter table testTable drop folderName;</p><p>加索引</p><p>alter table MIFit_Image add index indexName (folderName);</p><p>删除索引</p><p>alter table MIFit_Image drop index indexName;</p></div><footer class="post-footer"><div class="post-ending ending"><div class="ending__text">------ 本文结束，感谢您的阅读 ------</div></div><div class="post-copyright copyright"><div class="copyright-author"><span class="copyright-author__name">本文作者: </span><span class="copyright-author__value"><a href="https://bfch.github.io">Anew忘</a></span></div><div class="copyright-link"><span class="copyright-link__name">本文链接: </span><span class="copyright-link__value"><a href="https://bfch.github.io/2020-06-22/11/">https://bfch.github.io/2020-06-22/11/</a></span></div><div class="copyright-notice"><span class="copyright-notice__name">版权声明: </span><span class="copyright-notice__value">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.en" rel="external nofollow" target="_blank">BY-NC-SA</a> 许可协议。转载请注明出处！</span></div></div><nav class="post-paginator paginator"><div class="paginator-prev"><a class="paginator-prev__link" href="/2020-06-22/12/"><span class="paginator-prev__icon"><i class="fas fa-angle-left"></i></span><span class="paginator-prev__text">个人觉得比较有用的网站</span></a></div><div class="paginator-next"><a class="paginator-next__link" href="/2020-06-22/10/"><span class="paginator-prev__text">MySQL条件查询</span><span class="paginator-next__icon"><i class="fas fa-angle-right"></i></span></a></div></nav></footer></div></div></div><div class="sidebar-wrap" id="sidebar-wrap"><aside class="sidebar" id="sidebar"><div class="sidebar-nav"><span class="sidebar-nav-toc current">文章目录</span><span class="sidebar-nav-ov">站点概览</span></div><section class="sidebar-toc"></section><section class="sidebar-ov hide"><div class="sidebar-ov-author"><div class="sidebar-ov-author__avatar"><img class="sidebar-ov-author__avatar_img" src="/images/avatar.jpg" alt="avatar"></div><p class="sidebar-ov-author__text">北风承欢</p></div><div class="sidebar-ov-feed"><span class="sidebar-ov-feed-email"><a class="sidebar-ov-feed-email__link" href="1463751713@qq.com" target="_blank" rel="noopener"><span class="sidebar-ov-feed-email__icon"><i class="fas fa-envelope"></i></span><span>Email 订阅</span></a></span><span class="sidebar-ov-feed-rss"><a class="sidebar-ov-feed-rss__link" href="/atom.xml" target="_blank" rel="noopener"><span class="sidebar-ov-feed-rss__icon"><i class="fas fa-rss"></i></span><span>RSS 订阅</span></a></span></div><div class="sidebar-ov-cc"><a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.en" target="_blank" rel="noopener" data-popover="知识共享许可协议" data-popover-pos="up"><img src="/images/cc-by-nc-sa.svg"></a></div></section><div class="sidebar-reading"><div class="sidebar-reading-info"><span class="sidebar-reading-info__text">你已阅读了 </span><span class="sidebar-reading-info__num">0</span></div><div class="sidebar-reading-line"></div></div></aside></div><div class="clearfix"></div></div></main><footer class="footer" id="footer"><div class="footer-inner"><div><span>Copyright © 2020</span><span class="footer__icon"><i class="fas fa-heart"></i></span><span>Anew忘</span></div><div><span>由 <a href="http://hexo.io/" title="Hexo" target="_blank" rel="noopener">Hexo</a> 强力驱动</span><span> v4.2.1</span><span class="footer__devider">|</span><span>主题 - <a href="https://github.com/liuyib/hexo-theme-stun/" title="Stun" target="_blank" rel="noopener">Stun</a></span><span> v2.0.1</span></div><div class="busuanzi"><span class="busuanzi-siteuv"><span class="busuanzi-siteuv__icon"><i class="fas fa-user"></i></span><span class="busuanzi-siteuv__info">访问人数</span><span class="busuanzi-siteuv__value" id="busuanzi_value_site_uv"></span></span><span class="busuanzi-sitepv"><span class="busuanzi-siteuv__icon"><i class="fas fa-eye"></i></span><span class="busuanzi-siteuv__info">浏览总量</span><span class="busuanzi-siteuv__value" id="busuanzi_value_site_pv"></span></span></div></div></footer><div class="loading-bar" id="loading-bar"><div class="loading-bar__progress"></div></div><div class="back2top" id="back2top"><span class="back2top__icon"><i class="fas fa-rocket"></i></span></div></div><div class="search-mask"></div><div class="search-popup"><span class="search-close"></span><div class="search-input"><input placeholder="搜索文章（支持多关键词，请用空格分隔）"></div><div class="search-results"></div></div><script src="//cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-animate@1.5.2/velocity.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-animate@1.5.2/velocity.ui.min.js"></script><script src="//cdn.jsdelivr.net/npm/ribbon.js@latest/dist/ribbon.min.js" size="120" alpha="0.6" zindex="-1"></script><script src="https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js"></script><script>function initSearch(){var e=!0,t="search.xml";t?/json$/i.test(t)&&(e=!1):t="search.xml";var n="/"+t;$.ajax({url:n,dataType:e?"xml":"json",async:!0,success:function(t){var n=e?$("entry",t).map(function(){return{title:$("title",this).text(),content:$("content",this).text(),url:$("url",this).text()}}).get():t,o=$(".search-input input"),c=$(".search-results"),i={title:100,content:1},r=function(){var e=o.val().toLowerCase().trim(),t=e.split(/[\s]+/),r=[];t.length>1&&t.push(e),e.length>0&&n.forEach(function(e){function n(e,t,n,o){if(e&&t&&t.length){var c="",i=n,r=o;return t.forEach(function(t){if(!(t.index<i)){var n=t.index+t.word.length;c+=e.slice(i,t.index),c+="<b>"+e.slice(t.index,n)+"</b>",i=n}}),c+=e.slice(i,r)}}var o=!1,c=e.title&&e.title.trim()||"[ 文章无标题 ]",a=c&&c.toLowerCase(),s=e.content&&e.content.replace(/<[^>]+>/g,""),l=s&&s.toLowerCase(),u=e.url&&decodeURI(e.url).replace(/\/{2,}/g,"/"),h=[],d=[];t.forEach(function(e){function t(e,t,n,o){if(!e||!t)return[];var c=0,i=-1,r=[];for(n||(e=e.toLowerCase(),t=t.toLowerCase());-1!==(i=t.indexOf(e,c));){var a=!1;h.forEach(function(t){t.index===i&&t.word.length<e.length&&(t.word=e,a=!0)}),c=i+e.length,!a&&r.push({index:i,word:e,weight:o})}return r}h=h.concat(t(e,a,!1,i.title)),d=d.concat(t(e,l,!1,i.content))});var f=h.length,p=d.length;if((f>0||p>0)&&(o=!0),o){[h,d].forEach(function(e){e.sort(function(e,t){return e.index-t.index})});var v,g={},x=h.length*i.title+d.length*i.content,w=n(c,h,0,c.length)||c,$=200,y=20,m=$-y;if(d.length>0){var S=d[0].index,C=S>y?S-y:0,k=S+m;v=n(s,d,C,k)}else v=s.slice(0,$);g.title=w,g.content=v,g.url=u,g.weight=x,r.push(g)}});var a="";r.length?(r.sort(function(e,t){return t.weight-e.weight}),a+="<ul>",r.forEach(function(e){a+='<li><a class="search-results-title" href="'+e.url+'">',a+=e.title,a+='</a><div class="search-results-content">',a+=e.content,a+="</div></li>"}),a+="</ul>"):a+='<div class="search-results-none"><i class="far fa-meh"></i></div>',c.html(a)};o.on("input",r),o.on("keyup",function(e){e.keyCode===Stun.utils.codeToKeyCode("Enter")&&r()})}})}function closeSearch(){$("body").css({overflow:"auto"}),$(".search-popup").css({display:"none"}),$(".search-mask").css({display:"none"})}window.addEventListener("DOMContentLoaded",function(){Stun.utils.pjaxReloadLocalSearch=function(){$(".header-nav-search").on("click",function(e){e.stopPropagation(),$("body").css("overflow","hidden"),$(".search-popup").velocity("stop").velocity("transition.expandIn",{duration:300,complete:function(){$(".search-popup input").focus()}}),$(".search-mask").velocity("stop").velocity("transition.fadeIn",{duration:300}),initSearch()}),$(".search-mask, .search-close").on("click",function(){closeSearch()}),$(document).on("keydown",function(e){e.keyCode===Stun.utils.codeToKeyCode("Escape")&&closeSearch()})},Stun.utils.pjaxReloadLocalSearch()},!1)</script><script src="//cdn.jsdelivr.net/npm/pjax@latest/pjax.min.js"></script><script>window.addEventListener("DOMContentLoaded",function(){var a=(new Pjax({selectors:["head title","#main",".pjax-reload"],history:!0,scrollTo:!1,scrollRestoration:!1,cacheBust:!1,debug:!1,currentUrlFullReload:!1,timeout:0}),null);document.addEventListener("pjax:send",function(){$(".header-nav-menu").removeClass("show"),CONFIG.pjax&&CONFIG.pjax.avoidBanner&&$("html").velocity("scroll",{duration:500,offset:$("#header").height(),easing:"easeInOutCubic"});var e=20,t=95;$(".loading-bar").addClass("loading"),$(".loading-bar__progress").css("width",e+"%"),clearInterval(a),a=setInterval(function(){e+=3,e>t&&(e=t),$(".loading-bar__progress").css("width",e+"%")},500)},!1),window.addEventListener("pjax:complete",function(){clearInterval(a),$(".loading-bar__progress").css("width","100%"),$(".loading-bar").removeClass("loading"),setTimeout(function(){$(".loading-bar__progress").css("width","0")},400),$("link[rel=prefetch], script[data-pjax-rm]").each(function(){$(this).remove()}),$("script[data-pjax], #pjax-reload script").each(function(){$(this).parent().append($(this).remove())}),Stun.utils.pjaxReloadBoot&&Stun.utils.pjaxReloadBoot(),Stun.utils.pjaxReloadScroll&&Stun.utils.pjaxReloadScroll(),Stun.utils.pjaxReloadSidebar&&Stun.utils.pjaxReloadSidebar()},!1)},!1)</script><div id="pjax-reload"><script src="https://cdn.jsdelivr.net/gh/sukkaw/busuanzi@latest/bsz.pure.mini.js" async></script></div><script src="/js/utils.js?v=2.0.1"></script><script src="/js/stun-boot.js?v=2.0.1"></script><script src="/js/scroll.js?v=2.0.1"></script><script src="/js/header.js?v=2.0.1"></script><script src="/js/sidebar.js?v=2.0.1"></script></body></html><!-- rebuild by neat -->